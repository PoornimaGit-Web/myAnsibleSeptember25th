---
- hosts: 172.31.36.43
  become: yes
  gather_facts: yes
  tasks:
    - name: I want to execute direct linux command
      command: hostname -f
      register: myresult
      when: ansible_facts['os_family'] == "Debian"
     
    - name: I want to display first task result
      debug:
        msg: "{{myresult}}"
    - name: install git
      apt:
       name: git
       state: present
      when: myresult.stderr=="" and ansible_facts['os_family'] == "Debian"
    - name: install tree
      apt:
       name: tree
       state: present
      when: myresult.stderr!="" and ansible_facts['os_family'] == "Debian"